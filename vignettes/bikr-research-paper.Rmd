---
title: "The bikr package - towards a collaborative platform for bicycle infrastructure classification and analysis"
author: "Tim Foster"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
---

## pre-pub/draft

## Abstract

Many cities, regions and countries across the world are looking to improve their cycling infrastructure. The perceived outcomes of improvements are numerous including human health, air pollution, traffic noise reduction, carbon saving and cyclist/pedestrian safety. This paper shows an approach to classifying the quality of cycle infrastructure, assessing the impact of planned changes, projecting what is required in terms of cost and assessing whether the presumed outcomes have been reached. It builds on work in a number of fields including volunteered geographic information (VGI), digital dashboard design and city monitoring projects and is influenced by various classification, ranking and index metrics. This systems demonstrates how a platform for comparing, contrasting and planning infrastructure can be created and shared. A number of recommendations for further research are outlined.

## Introduction

Bicycles are the ['appropriate technology'](http://en.wikipedia.org/wiki/Appropriate_technology) of choice for alleviating many problems caused by heavily engineered and industrial forms of transportation. The growth in sedentary and inactive means of transport has lead to a realisation that the perceived benefits of speed, cost and efficiency can overlook the many indirect benefits inherent in active transport and less 'advanced' forms of transport. Cycling has indirect benefits such as human health and well-being, air pollution reduction and overall lower environmental footprints as well as direct 'up-front' benefits over short journeys such as cost, speed and flexibility.

Without some reference points and models to approach improving the existing transport system it is hard to measure how well a particular area performs and what is required to improve it.

Bicycle infrastructure comes from three broad areas:

* Legislation
* Design Guidelines
* Public support

The simple answer to improving bicycle infrastructure is to legislate improvements. But that still leaves a question of where to start and exactly what outcomes are expected. There requires a common framework and platform for sharing, analysing, rating and developing policy for transport including active and bicycle based transport.

## The platform

There are a number of existing systems for rating cycle infrastructure...

What data is available....census, national agencies, 

OpenStreetMap...international and lots of data...

Supplement with other data...

R package, postGIS, open-source

## Metrics and classification

sub-metrics, overall metrics, weightings

### Terminology

* cycle path
* bicycle parking area
* national cycle route

### PostGIS Queries

empirical evidence?

ground truthing

## Model

Outcomes Vs classification

```{r, echo=FALSE,fig.width=9,fig.height=7}
library(ggplot2)
library(bikr)
    d <- bicycleStatus(scotlandMsp)
    sumdata <- scotlandMsp
    d$'Name' <- d$name
    d <-   merge(d,sumdata,by.x="name",by.y="name")
    d$'% Commuting By Bicycle' <- d$commutingbybicycle.x
    d <- d[with(d,order(d$'Total normalised')),]
    d$name <- as.factor(d$name)
    d$name <- factor(d$name, levels = d$name[order(d$'Total normalised')])
    Overall_Status <- d$'Status'
    p2 <-  qplot(x = d$name,  y= d$'% Commuting By Bicycle', geom="bar",fill=Overall_Status, stat="identity",xlab="Area",ylab="Percentage communting by bicycle") + theme(axis.text.x = element_text(angle = 90, hjust = 1))
  p2
```

## Use cases

* Planning improvement delivery
* What are the likely outcomes

## Future developmemt

Integrate more data from APIs. Creating a collaborative platform form for bicycle research through API, versioning and code/data sharing.

## References